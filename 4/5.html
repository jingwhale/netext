<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.invalid{
			border-color:red;
			color: red;
		}
	</style>
</head>
<body>
	<form id="loginForm" action="/login">
		<legend>手机号码登陆</legend>
		<fieldset>
			<div>
				<label for="mobile">手机号：</label>
				<input id="mobile" class="mobile" type="text">
			</div>
			<div>
				<label for="mobile">密码：</label>
				<input id="password" class="password" type="password">
			</div>
			<div><button id="login">登陆</button></div>
		</fieldset>
	</form>

	<script>
		var addEvent = document.addEventListener ? function(elem,type,listener,useCapture){
			elem.addEventListener(type,listener,useCapture);
		}:
		function(elem,type,listener,useCapture){
			elem.attachEvent('on' + type,listener);
		};

		var sMobile = document.getElementById('mobile');
		var sPassword = document.getElementById('password');
		var sLogin = document.getElementById('login');
		var loginForm = document.getElementById('loginForm');

		var mobileBlurHandler = function(){
			var mobilevalue = sMobile.value;
			if(!(/^1[3|4|5|8][0-9]\d{4,8}$/.test(mobilevalue))){
				sMobile.className +=" invalid";
			}
		}

		var passwordBlurHandler = function(){
			var passwordvalue = sPassword.value;
			if(!(/^[a-zA-Z]\w{5,15}$/.test(passwordvalue))){
				sPassword.className +=" invalid";
			}
		}
		var mobileFocusHandler = function(){
				sMobile.className ="";
		}
		var passwordFocusHandler = function(){
				sPassword.className ="";
		}
		var loginHandler = function(){
				if(sMobile.className || sPassword.className){
					sLogin.disabled = "disabled";
				}else{
					sLogin.disabled = "disabled";
					loginForm.submit();

				}
		}
		addEvent(sMobile,'blur',mobileBlurHandler);
		addEvent(sMobile,'focus',mobileFocusHandler);
		addEvent(sPassword,'blur',passwordBlurHandler);
		addEvent(sPassword,'focus',passwordFocusHandler);
		addEvent(sLogin,'mousedown',loginHandler);
	</script>
	
</body>
</html>